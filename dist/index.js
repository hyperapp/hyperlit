import{h as t}from"hyperapp";let e,n,r,l,o,h,p;const f=()=>{},u=t=>" "==t||"\t"==t||"\n"==t||"\r"==t,g=e=>{r=[...r,"function"==typeof l?l(o,e):t(l,o,e)]},i=t=>(n,r=e)=>e=()=>t(n,r()),m=t=>(r=e)=>{n.push(e=>{t(e,r())}),e=f},s=i(t=>t&&r.push(t)),d=i(t=>{l=t,o={}}),y=i(t=>{o[t]=!0}),a=i(t=>{h=t,o[t]=""}),c=i(t=>{o[h]+=t}),E=i(()=>g([])),b=i(()=>{p=[r,o,l,p],r=[]}),j=i(()=>{let t=r;r=p[0],o=p[1],l=p[2],p=p[3],g(t)}),x=m(t=>{o[h]+=t}),k=m(t=>{r.push("number"==typeof t?""+t:t)}),q=m(t=>{l=t,o={}}),v=m(t=>{o={...o,...t}}),w=m((t=!0)=>{o[h]=t}),z=m(f),A=t=>{e=f,n=[],(t=>{let e,n="",r=0;for(let l=0;l<t.length;l++){for(let o=0;o<t[l].length;o++)e=t[l][o],0==r?"<"==e?r=2:u(e)||(r=1,n=e):1==r?"<"==e?(s(n.trimEnd()),n="",r=2):n+=e:2==r?"/"==e?r=3:(r=4,n=e):3==r?">"==e&&(j(),r=0):4==r?u(e)?(d(n),r=5):"/"==e?(d(n),r=6):">"==e?(d(n),b(),r=0):n+=e:6==r?">"==e&&(E(),r=0):5==r?"."==e||("/"==e?r=6:">"==e?(b(),r=0):u(e)||(n=e,r=7)):7==r?"="==e?(a(n),r=8):">"==e?(y(n),b(),r=0):"/"==e?(y(n),r=6):u(e)?(y(n),r=5):n+=e:8==r?'"'==e&&(r=9,n=""):9==r&&('"'==e?(c(n),r=5):n+=e);2==r?(q(),r=5):1==r?l==t.length-1?(s(n.trimEnd()),n=""):(s(n),n="",k()):5==r?v():8==r?(w(),r=5):9==r?(c(n),x(),n=""):3==r?z():0==r&&l<t.length-1&&k()}})(t);let l=e,o=n;return t=>{r=[];for(let e=0;e<t.length;e++)o[e](t[e]);return l(),r.length>1?r:r[0]}},B={};export default(t,...e)=>((t,e=t.join("|"),n=B[e])=>n||(B[e]=A(t)))(t)(e);
