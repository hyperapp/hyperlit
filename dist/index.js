import{h as e}from"hyperapp";const r=e=>" "==e||"\t"==e||"\n"==e,t=(l,s,f,n)=>{let h,i,p,o,u,a,g,m="",y=[],c=0;const A=()=>{let r=t(l,s,a,g+1);y.push(i?e(i,o,r[0]):u(o,r[0])),a=r[1],g=r[2],c=0},d=()=>{i=m,o={}},x=()=>{y.push(m.trim())};for(a=f;a<l.length;a++){for(8==c&&(o[p]=s[a-1],c=5),g=n;g<l[a].length;g++)if(h=l[a][g],0==c)"<"==h?(c=2,i=""):r(h)||(m=h,c=1);else if(1==c)"<"==h?(x(),c=2):m+=h;else if(2==c)"/"==h?c=3:(c=4,m=h);else if(3==c){if(">"==h)return[y,a,g]}else 4==c?r(h)?(d(),c=5):"/"==h?(d(),c=6):">"==h?(d(),A()):m+=h:6==c?">"==h&&(y.push(i?e(i,o):u(o,[])),c=0):5==c?"."==h||("/"==h?c=6:">"==h?A():r(h)||(m=h,c=7)):7==c?"="==h?(p=m,c=8):m+=h:8==c?'"'==h&&(c=9,m=""):9==c&&('"'==h?(o[p]=m,c=5):m+=h);n=0,2==c?(u=s[a],o={},c=5):1==c?(x(),c=0):5==c?o={...o,...s[a]}:9==c&&(o[p]=s[a],c=5,n=1),a<l.length-1&&0==c&&(y=[...y,...Array.isArray(s[a])?s[a]:[s[a]]])}return 1==c&&x(),y=1==y.length?y[0]:y,[y,a,g]};export default(e,...r)=>t(e,r,0,0)[0];
